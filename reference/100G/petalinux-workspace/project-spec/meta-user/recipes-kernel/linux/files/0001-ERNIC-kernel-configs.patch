From 0d5b36f617c389f723f80f48f0a687f13a4e5e4e Mon Sep 17 00:00:00 2001
From: priyadar <priyadar@xilinx.com>
Date: Wed, 9 Jun 2021 03:11:05 +0530
Subject: [PATCH] ERNIC kernel configs

Signed-off-by: priyadar <priyadar@xilinx.com>
---
 arch/arm64/configs/xilinx_defconfig | 34 ++++++++++++++++++++++++++++++++--
 1 file changed, 32 insertions(+), 2 deletions(-)

diff --git a/arch/arm64/configs/xilinx_defconfig b/arch/arm64/configs/xilinx_defconfig
index 75c3303..173aff5 100644
--- a/arch/arm64/configs/xilinx_defconfig
+++ b/arch/arm64/configs/xilinx_defconfig
@@ -1,3 +1,34 @@
+CONFIG_INFINIBAND=y
+CONFIG_INFINIBAND_USER_MAD=y
+CONFIG_INFINIBAND_USER_ACCESS=y
+CONFIG_INFINIBAND_USER_MEM=y
+CONFIG_INFINIBAND_ON_DEMAND_PAGING=y
+CONFIG_INFINIBAND_ADDR_TRANS=y
+CONFIG_INFINIBAND_ADDR_TRANS_CONFIGFS=y
+CONFIG_FPGA_BRIDGE=y
+CONFIG_IPV6=y
+CONFIG_IPV6_SIT=y
+CONFIG_IPV6_NDISC_NODETYPE=y
+
+CONFIG_SMP=y
+CONFIG_ZONE_DEVICE=y
+CONFIG_MEMORY_HOTPLUG_DEFAULT_ONLINE=y
+CONFIG_MEMORY_HOTREMOVE=y
+CONFIG_SPARSEMEM_VMEMMAP=y
+CONFIG_SPARSEMEM=y
+CONFIG_ARCH_ENABLE_MEMORY_HOTREMOVE=y
+CONFIG_MIGRATION=y
+CONFIG_ARCH_ENABLE_MEMORY_HOTPLUG=y
+CONFIG_SPARSEMEM_MANUAL=y
+CONFIG_64BIT=y
+CONFIG_X86_64=y
+CONFIG_X86_32=y
+CONFIG_HIGHMEM=y
+CONFIG_MMU=y
+CONFIG_SPARSEMEM_VMEMMAP_ENABLE=y
+CONFIG_ARCH_HAS_PTE_DEVMAP=y
+CONFIG_ARCH_HAS_ZONE_DEVICE=y
+
 CONFIG_SYSVIPC=y
 CONFIG_POSIX_MQUEUE=y
 CONFIG_AUDIT=y
@@ -45,7 +76,6 @@ CONFIG_CRYPTO_AES_ARM64_BS=y
 CONFIG_MODULES=y
 CONFIG_MODULE_UNLOAD=y
 CONFIG_MODULE_FORCE_UNLOAD=y
-# CONFIG_SPARSEMEM_VMEMMAP is not set
 CONFIG_MEMORY_HOTPLUG=y
 CONFIG_DEFAULT_MMAP_MIN_ADDR=32768
 CONFIG_TRANSPARENT_HUGEPAGE=y
@@ -362,7 +392,7 @@ CONFIG_EDAC_ZYNQMP_OCM=y
 CONFIG_EDAC_XILINX_DDR=y
 CONFIG_RTC_CLASS=y
 CONFIG_RTC_DRV_ZYNQMP=y
-CONFIG_XILINX_DMA=y
+# CONFIG_XILINX_DMA is not set
 CONFIG_XILINX_ZYNQMP_DMA=y
 CONFIG_XILINX_PS_PCIE_DMA=y
 CONFIG_DMATEST=y
-- 
2.7.4

